{"mappings":"AAOA,SAASA,EAAgBC,GAGvB,OAAOC,EAFK,4DACAD,I,CAId,SAASC,EAASC,GAChB,OAAOC,MAAMD,GAAKE,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,G,CChB1B,MAAMC,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,QAASF,SAASC,cAAc,aAChCE,YAAaH,SAASC,cAAc,YACpCG,WAAYJ,SAASC,cAAc,YAErC,IAAII,EAAY,GAuDhB,SAASC,EAASC,GAChBA,EAAKC,UAAUC,OAAO,S,CAGxB,SAASC,EAASH,GAChBA,EAAKC,UAAUG,IAAI,S,CA1DrBL,EAASR,EAAKK,aDNLd,EADK,uCCUXG,MAAKoB,IACJN,EAASR,EAAKC,aAkClB,SAA6Ba,GAC3B,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,IACRnB,EAAKC,YAAYmB,UAAYL,C,CArC3BM,CAAoBP,GACpBP,EAAY,IAAIO,EAAO,IAExBQ,OAAMC,IACLf,EAASR,EAAKM,WAAW,IAE1BkB,SAAQ,KACPZ,EAASZ,EAAKK,YAAY,IAG9BL,EAAKC,YAAYwB,iBAAiB,UAElC,WACE,MAAMnC,EAAUU,EAAKC,YAAYyB,MAC3BC,EAAQpB,EAAUqB,MAAKC,GAASA,EAAMZ,KAAO3B,IAEnDsB,EAASZ,EAAKM,YACdM,EAASZ,EAAKI,SACdI,EAASR,EAAKK,aAEdhB,EAAgBC,GACbI,MAAKoC,IACJtB,EAASR,EAAKI,SAkBpB,SAAmByB,EAAOE,GACxB,MAAMhB,EAAS,aAAagB,WAAgBF,EAAMX,iCACxCW,EAAMX,oCACMW,EAAMG,6BACnBH,EAAMI,kBACfjC,EAAKI,QAAQgB,UAAYL,C,CAtBrBmB,CAAUP,EAAOG,EAAI,GAAGtC,IAAI,IAE7B8B,OAAMC,IACLf,EAASR,EAAKM,WAAW,IAE1BkB,SAAQ,KACPZ,EAASZ,EAAKK,YAAY,G","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["import { BASE_URL } from './constants';\n\nfunction fetchBreeds() {\n  const url = `${BASE_URL}/breeds`;\n  return fetchUrl(url);\n}\n\nfunction fetchCatByBreed(breedId) {\n  const url = `${BASE_URL}/images/search?\n  breed_ids=${breedId}`;\n  return fetchUrl(url);\n}\n\nfunction fetchUrl(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loaderNotif: document.querySelector('p.loader'),\n  errorNotif: document.querySelector('p.error'),\n};\nlet breedsArr = [];\n\nshowElem(refs.loaderNotif);\n\nfetchBreeds()\n  .then(breeds => {\n    showElem(refs.breedSelect);\n    renderBreedsOptions(breeds);\n    breedsArr = [...breeds];\n  })\n  .catch(err => {\n    showElem(refs.errorNotif);\n  })\n  .finally(() => {\n    hideElem(refs.loaderNotif);\n  });\n\nrefs.breedSelect.addEventListener('change', onBreedSelect);\n\nfunction onBreedSelect() {\n  const breedId = refs.breedSelect.value;\n  const breed = breedsArr.find(breed => breed.id === breedId);\n\n  hideElem(refs.errorNotif);\n  hideElem(refs.catInfo);\n  showElem(refs.loaderNotif);\n\n  fetchCatByBreed(breedId)\n    .then(cat => {\n      showElem(refs.catInfo);\n      renderCat(breed, cat[0].url);\n    })\n    .catch(err => {\n      showElem(refs.errorNotif);\n    })\n    .finally(() => {\n      hideElem(refs.loaderNotif);\n    });\n}\n\nfunction renderBreedsOptions(breeds) {\n  const markup = breeds\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  refs.breedSelect.innerHTML = markup;\n}\n\nfunction renderCat(breed, imgUrl) {\n  const markup = `<img src=\"${imgUrl}\" alt=\"${breed.name}\" width=\"500\">\n      <h2>${breed.name}</h2>\n      <p>Temperament: ${breed.temperament}</p>\n      <p>${breed.description}</p>`;\n  refs.catInfo.innerHTML = markup;\n}\n\nfunction showElem(elem) {\n  elem.classList.remove('hidden');\n}\n\nfunction hideElem(elem) {\n  elem.classList.add('hidden');\n}\n"],"names":["$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","$c4ebbd28ee7007ee$var$fetchUrl","url","fetch","then","response","ok","Error","statusText","json","$85a5f86b715fe7db$var$refs","breedSelect","document","querySelector","catInfo","loaderNotif","errorNotif","$85a5f86b715fe7db$var$breedsArr","$85a5f86b715fe7db$var$showElem","elem","classList","remove","$85a5f86b715fe7db$var$hideElem","add","breeds","markup","map","id","name","join","innerHTML","$85a5f86b715fe7db$var$renderBreedsOptions","catch","err","finally","addEventListener","value","breed1","find","breed","cat","imgUrl","temperament","description","$85a5f86b715fe7db$var$renderCat"],"version":3,"file":"index.8110cedd.js.map"}