{"mappings":"AAOA,SAASA,EAAgBC,GAEvB,OAAOC,EADK,wDAAuCD,I,CAIrD,SAASC,EAASC,GAChB,OAAOC,MAAMD,GAAKE,MAAKC,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,MAAM,G,CCf1B,MAAMC,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,QAASF,SAASC,cAAc,aAChCE,YAAaH,SAASC,cAAc,YACpCG,WAAYJ,SAASC,cAAc,YAErC,IAAII,EAAY,GAuDhB,SAASC,EAASC,GAChBA,EAAKC,UAAUC,OAAO,O,CAGxB,SAASC,EAASH,GAChBA,EAAKC,UAAUG,IAAI,O,CA1DrBL,EAASR,EAAKK,aDNLd,EADK,uCCUXG,MAAKoB,IACJF,EAASZ,EAAKK,aACdG,EAASR,EAAKC,aAiClB,SAA6Ba,GAC3B,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,IACRnB,EAAKC,YAAYmB,UAAYL,C,CAnC3BM,CAAoBP,GACpBP,EAAY,IAAIO,EAAO,IAExBQ,OAAMC,IACLX,EAASZ,EAAKK,aACdG,EAASR,EAAKM,WAAW,IAG7BN,EAAKC,YAAYuB,iBAAiB,UAElC,WACE,MAAMlC,EAAUU,EAAKC,YAAYwB,MAC3BC,EAAQnB,EAAUoB,MAAKC,GAASA,EAAMX,KAAO3B,IAEnDsB,EAASZ,EAAKI,SACdI,EAASR,EAAKK,aAEdhB,EAAgBC,GACbI,MAAKmC,IACJjB,EAASZ,EAAKK,aACdG,EAASR,EAAKI,SAkBpB,SAAmBwB,EAAOE,GACxB,MAAMf,EAAS,aAAae,WAAgBF,EAAMV,iCACxCU,EAAMV,oCACMU,EAAMG,6BACnBH,EAAMI,kBACfhC,EAAKI,QAAQgB,UAAYL,C,CArBrBkB,CAAUP,EAAOG,EAAI,GAAGrC,IAAI,IAE7B8B,OAAMC,IACLX,EAASZ,EAAKK,aAEdG,EAASR,EAAKM,WAAW,G","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["import { BASE_URL } from './constants';\n\nfunction fetchBreeds() {\n  const url = `${BASE_URL}/breeds`;\n  return fetchUrl(url);\n}\n\nfunction fetchCatByBreed(breedId) {\n  const url = `${BASE_URL}/images/search?breed_ids=${breedId}`;\n  return fetchUrl(url);\n}\n\nfunction fetchUrl(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  breedSelect: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loaderNotif: document.querySelector('p.loader'),\n  errorNotif: document.querySelector('p.error'),\n};\nlet breedsArr = [];\n\nshowElem(refs.loaderNotif);\n\nfetchBreeds()\n  .then(breeds => {\n    hideElem(refs.loaderNotif);\n    showElem(refs.breedSelect);\n\n    renderBreedsOptions(breeds);\n    breedsArr = [...breeds];\n  })\n  .catch(err => {\n    hideElem(refs.loaderNotif);\n    showElem(refs.errorNotif);\n  });\n\nrefs.breedSelect.addEventListener('change', onBreedSelect);\n\nfunction onBreedSelect() {\n  const breedId = refs.breedSelect.value;\n  const breed = breedsArr.find(breed => breed.id === breedId);\n\n  hideElem(refs.catInfo);\n  showElem(refs.loaderNotif);\n\n  fetchCatByBreed(breedId)\n    .then(cat => {\n      hideElem(refs.loaderNotif);\n      showElem(refs.catInfo);\n\n      renderCat(breed, cat[0].url);\n    })\n    .catch(err => {\n      hideElem(refs.loaderNotif);\n\n      showElem(refs.errorNotif);\n    });\n}\n\nfunction renderBreedsOptions(breeds) {\n  const markup = breeds\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  refs.breedSelect.innerHTML = markup;\n}\n\nfunction renderCat(breed, imgUrl) {\n  const markup = `<img src=\"${imgUrl}\" alt=\"${breed.name}\" width=\"500\">\n      <h2>${breed.name}</h2>\n      <p>Temperament: ${breed.temperament}</p>\n      <p>${breed.description}</p>`;\n  refs.catInfo.innerHTML = markup;\n}\n\nfunction showElem(elem) {\n  elem.classList.remove('hide');\n}\n\nfunction hideElem(elem) {\n  elem.classList.add('hide');\n}\n"],"names":["$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","$c4ebbd28ee7007ee$var$fetchUrl","url","fetch","then","response","ok","Error","statusText","json","$85a5f86b715fe7db$var$refs","breedSelect","document","querySelector","catInfo","loaderNotif","errorNotif","$85a5f86b715fe7db$var$breedsArr","$85a5f86b715fe7db$var$showElem","elem","classList","remove","$85a5f86b715fe7db$var$hideElem","add","breeds","markup","map","id","name","join","innerHTML","$85a5f86b715fe7db$var$renderBreedsOptions","catch","err","addEventListener","value","breed1","find","breed","cat","imgUrl","temperament","description","$85a5f86b715fe7db$var$renderCat"],"version":3,"file":"index.41e52907.js.map"}